------
--DEV BY : Jitendra Lodwal  
--DATE  : 26-AUG-2011 
--DESC : FUNCTION
------

SET SEARCH_PATH TO WORKAREA;

CREATE OR REPLACE FUNCTION PROD_CD() RETURNS VOID AS $$
DECLARE
X record;
BEGIN
FOR X IN 
(SELECT ACCT_PROD_CD,ACCT_ACCT_NO
FROM ACCT_PATCH,TRAN_DETAIL_JUN
WHERE ACCT_ACCT_NO =TXD_ACCT_NO
AND TXD_PROD_CD IN ('00001','00002'))
LOOP 
UPDATE TRAN_DETAIL_JUN
SET TXD_PROD_CD =X.ACCT_PROD_CD
WHERE TXD_ACCT_NO =X.ACCT_ACCT_NO ;
--COMMIT;
END LOOP;
END;
$$
LANGUAGE PLPGSQL;
